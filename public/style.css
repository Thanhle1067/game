:root{ --bg: rgba(0,0,0,0); --accent:#00e5ff }
*{ box-sizing:border-box } html,body{ width:100%; height:100%; margin:0; background:var(--bg); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif }
#root{ width:100vw; height:100vh; position:relative; overflow:hidden }
.bonus{ position:absolute; top:40%; left:50%; transform:translate(-50%,-40%); font-size:72px; font-weight:900; color:var(--accent); text-shadow:0 0 18px rgba(0,0,0,.2); opacity:0; transition:opacity .4s ease, transform .4s ease; pointer-events:none; z-index:6 }
.bonus.show{ opacity:1; transform:translate(-50%,-50%) }
.stage1{ --accent:#00e5ff } .stage2{ --accent:#ffcc00 } .stage3{ --accent:#ff3b3b }
.stage-tag{ position:absolute; bottom:10px; left:50%; transform:translateX(-50%); background:rgba(0,0,0,.5); border:1px solid rgba(255,255,255,.25); color:#fff; padding:6px 14px; border-radius:12px; font-weight:800; z-index:20; backdrop-filter: blur(4px) }
.bars{ position:absolute; inset:0; pointer-events:none; z-index:10; background: url("./bars.png") center/cover no-repeat; transform: translateX(-100%); opacity: 0; transition: transform .8s ease, opacity .2s ease, filter .3s ease; box-shadow: inset 0 0 40px rgba(0,0,0,.6) }
.bars.show{ transform: translateX(0); opacity: 1 } .stage2 .bars{ filter:hue-rotate(20deg) saturate(1.1) } .stage3 .bars{ filter:hue-rotate(-10deg) saturate(1.2) brightness(1.03) }
@keyframes bars-shake { 0%{ transform: translateX(0) } 20%{ transform: translateX(-8px) } 40%{ transform: translateX(8px) } 60%{ transform: translateX(-6px) } 80%{ transform: translateX(6px) } 100%{ transform: translateX(0) } }
.bars.shake{ animation: bars-shake 0.6s ease both }
#counterWrap{ position:absolute; bottom:14vh; left:50%; transform:translateX(-50%); padding:8px 16px; background:rgba(0,0,0,.35); border-radius:12px; border:1px solid rgba(255,255,255,.25) }
#counter{ font-size:clamp(44px,7vw,80px); font-weight:900; color:#fff; text-shadow:0 4px 16px rgba(0,0,0,.6) }
#unit{ font-size:clamp(18px,2vw,28px); font-weight:800; margin-left:6px; color:#fff }
#fx{ position:absolute; inset:0; z-index:11; pointer-events:none }
.bomb{ position:absolute; width:140px; height:140px; left:50%; margin-left:-70px; top:-180px; opacity:0; pointer-events:none; z-index:12; background: url('./bomb.svg') center/contain no-repeat; transform: translateY(0); transition: transform 1.2s cubic-bezier(.34,1.56,.64,1), opacity .3s }
.bomb.drop{ opacity:1; transform: translateY(70vh) } .bomb.explode{ background: url('./explosion.svg') center/contain no-repeat; transform: translateY(70vh) scale(1.7); opacity:0; transition: transform .6s ease-out, opacity .6s }